* DONE When bootstrapping, the status file is not consulted, apparently
  CLOSED: [2014-06-09 lun 12:23]
* DONE Fix the ajax on the status page
  CLOSED: [2014-06-09 lun 17:42]

When done, refresh the .po

* DONE Mail on commit
  CLOSED: [2014-06-11 mer 22:28]
* DONE Autocompletion for authors and topics
  CLOSED: [2014-06-14 sab 11:45]

This need a Controller::API which can be used for other things as well.

* DONE Revision deletion
  CLOSED: [2014-06-14 sab 17:15]
* DONE Text purging
  CLOSED: [2014-06-14 sab 18:43]
* DONE Wrong jumping offset on js
  CLOSED: [2014-06-14 sab 22:55]
* DONE Handle redirections
  CLOSED: [2014-06-21 sab 11:50]
* DONE Before creating a new revision, check if there is editing in progress
  CLOSED: [2014-06-21 sab 17:04]

I think this was present but got lost somehow

* DONE Strip down the /new form for specials
  CLOSED: [2014-06-21 sab 17:30]
* DONE Clear the log dir before starting a job
  CLOSED: [2014-06-09 lun 14:25]

* DONE Admin page for user creation
  CLOSED: [2014-06-22 dom 12:03]
* DONE admin page for site creation/modification
  CLOSED: [2014-06-26 gio 20:34]
* DONE use a macro for loc in the templates
  CLOSED: [2014-06-27 ven 22:07]

See tasks/dispaly.tt for an example

* DONE Middlewares
  CLOSED: [2014-06-28 sab 13:57]

* DONE Upgrade catalyst
  CLOSED: [2014-06-28 sab 12:33]

* DONE X-Accel, maybe?
  CLOSED: [2014-06-28 sab 21:29]

* DONE After a wrong answer, and a good one, popup doesn't go away
  CLOSED: [2014-06-29 dom 15:11]

* DONE store favicon, logo, site files in the repo
  CLOSED: [2014-07-05 sab 14:52]
* DONE Other languages on its own menu?
  CLOSED: [2014-07-05 sab 20:02]

* DONE Find a way or document clashes between uploaded pdf and titles
  CLOSED: [2014-07-05 sab 21:15]

Not a bug. PDFs cannot be inlined in the texts, so they should not be
served from /library and /edit, hence, no clash.

* DONE PDF thumbnails
  CLOSED: [2014-07-06 dom 14:38]
* DONE attach directive (atr)
  CLOSED: [2014-07-06 dom 10:31]
* DONE Multilingual
  CLOSED: [2014-07-12 sab 19:25]
** DONE add category/*/lang
   CLOSED: [2014-07-12 sab 11:27]
** DONE add support for uid on display
   CLOSED: [2014-07-12 sab 16:27]
** DONE Optimize the Category controller for multilang
   CLOSED: [2014-07-12 sab 19:25]

Store an hash in the stash, with uris if there it's a multisite.

If present, show the uris for filtering. Same applies for authors as
well.

Check if there are topics with texts for the given language, before
showing the uri.

* DONE Handle #topics as #SORTtopics, and #authors as #SORTauthors
  CLOSED: [2014-07-06 dom 10:31]

This looks like searching for troubles... Deferred

* DONE proper fixed category handling
  CLOSED: [2014-07-13 dom 11:11]

** DONE In the creation menu, offer checkboxes
   CLOSED: [2014-07-13 dom 09:20]
** DONE In the edit page, list them.
   CLOSED: [2014-07-13 dom 09:47]
** DONE Indexing probably need to ignore other topics
   CLOSED: [2014-07-13 dom 09:48]

No reason to do that.

** DONE The fixes categories are codes
   CLOSED: [2014-07-13 dom 11:11]

So there is a need to get in the translations and eventually
descriptions. For this, I guess we need another table, pointing to the
topic id (need an interface probably). Or, a file with translations in
the tree.

* DONE The jobber should publish deferred texts
  CLOSED: [2014-07-19 sab 12:44]
* DONE URI generation: append the language, if present.
  CLOSED: [2014-07-19 sab 13:50]
* DONE Internal list of translations
  CLOSED: [2014-07-15 mar 10:58]
* DONE Admin for jobs
  CLOSED: [2014-07-15 mar 10:08]

* DONE Replace File::Slurp with File::Slurp::Tiny or Path::Tiny
  CLOSED: [2014-07-20 dom 13:08]
* DONE test for entities
  CLOSED: [2014-07-27 dom 15:39]
* DONE fmt=json output for search
  CLOSED: [2014-07-27 dom 16:12]

* DONE fix crash on garbage with language. test required.
  CLOSED: [2014-08-06 mer 08:43]
* DONE remove bullets from list of latest entries
  CLOSED: [2014-08-06 mer 08:43]
* DONE remove the grey left margin from blockquotes
  CLOSED: [2014-08-07 gio 12:22]
* DONE add logo centered before latest entries.
  CLOSED: [2014-08-07 gio 14:48]
* DONE Right align the options?
  CLOSED: [2014-08-07 gio 12:22]

* DONE Disable toc for special pages
  CLOSED: [2014-08-07 gio 12:23]
  Not needed
* DONE in the full listing, provide a paging-like alphabet to jump there.
  CLOSED: [2014-08-30 sab 12:23]
* DONE images on /bookbuilder/schemas
  CLOSED: [2014-08-30 sab 09:23]
* DONE delete Table of Contents option in the BB
  CLOSED: [2014-08-30 sab 10:12]
* DONE on /action/text/new, link to the uri field from the explanation
  CLOSED: [2014-08-18 lun 10:22]

* DONE offer a link to add again to the bookbuilder the same texts
  CLOSED: [2014-08-31 dom 18:22]
* DONE offer a static page for the builder, for dummy devices
  CLOSED: [2014-08-31 dom 19:15]
* DONE bookbuilder enhancement with explanations
  CLOSED: [2014-08-31 dom 21:01]

* DONE List available images while editing
  CLOSED: [2014-09-01 lun 14:10]
  won't fix. I'd prefer duplicated images rather than code
  complication just because users can't read what it says.

* DONE Create static indexing
  CLOSED: [2014-09-03 mer 12:23]
* DONE put the home dir in the env, so we don't rely on getcwd
  CLOSED: [2014-09-03 mer 13:15]
  At this point, no code which change directory unexpectedly has been
  found. And if it is the case, it should be fixed. So, not a bug,
  closing.

* DONE script to import the accounts
  CLOSED: [2014-09-03 mer 16:21]

* DONE Button to remove the image from the bookbuilder.
  CLOSED: [2014-09-10 mer 21:56]
* DONE Translation of: "Changes committed, thanks!".
  CLOSED: [2014-09-10 mer 21:37]
* DONE Style on table preview
  CLOSED: [2014-09-10 mer 21:37]


* TODO Committed message

If you have no account and edit text, after you click "commit" you go
to the page with "Changes committed, thanks!". Somebody can be
confused if willn't see changes immediately, so will be better to
write "Changes committed, thanks! After editor review you will be able
to see it on the website." And then redirect to the main page.

* DONE Preview positioning
  CLOSED: [2014-09-16 mar 08:22]

When you click to "preview" page is reloading and you see
text-editor. preview should be at the top of the page. if preview text
is really big, maybe you can make scroll box for it. 

Retried with another solution


* TODO HTTPS support

Unclear if needed to enforce it or not. Pain in the ass for the
multisite thing.

* DONE Optimization
  CLOSED: [2014-09-15 lun 15:22]

Cache the results for the full topics, titles, authors.

* TODO ToC fixing

>>> 3) why TOC is not on the right side of the text like in old AL?
>> To be friendly with the persons using phones to browse the library. This
>> way no space is lost and th button is always visible on the bar.

> but we can combine it. or make that button shown up only when the
> screen is too small.

* TODO Add text

>> I've been fighting with the crowded top bar too much. The current state
>> is the best I could do. To non-logged in the bar looks almost empty, but
>> then you login and it's totally full.
>>
> now i logged in and don't think that is too much. and non-logged user
> is our main auditory, so i think it's really important to gave them
> this "add text" button on visible space.

* DONE Cheatsheet
  CLOSED: [2014-09-16 mar 08:23]

>> Also I've made the changes for the scrollable cheatseet and the cover
>> removal. Let me know if it works as expected.
> when you are clicking on the cheatsheet the page is jumping. and will
> be better if i scroll the page down and cheatsheet is moving down (or
> up) too.


Retried with another solution

* Future releases
* TODO The jobber should remove old completed jobs
  This implies also cleaning up the served files
  Overload delete, so the job deletion will do the cleanup as well.
  Probably a change to the table is needed.

* TODO Move the flash to Catalyst::Plugin::StatusMessage
* TODO Add descriptions to categories

* TODO covers/decorative text image 
